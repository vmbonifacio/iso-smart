<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">Datos de Empresa</ui:define>

    <ui:define name="viewname">
        <li>UI KIT</li>
        <li><i class="pi pi-chevron-right"></i></li>
        <li>
            <p:link outcome="/formDEmpresa">Formulario de Empresa</p:link>
        </li>
    </ui:define>

    <ui:define name="content">
        <h:form>
                <div class="col-12">
                    <div class="card">
                        <h5>Datos de la empresa</h5>
                        <div class="ui-fluid formgrid grid">
                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="firstname" value="Ruc" />
                                <p:inputText value="#{empresaPManagedBean.selectedEmpresaP.ruc}" id="firstname" />
                            </div>
                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="razonsocial" value="Razón social" />
                                <p:inputText value="#{empresaPManagedBean.selectedEmpresaP.razon_s}" id="razonsocial" />
                            </div>
                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="contribuyente" value="Nombre Comercial" />
                                <p:inputText value="#{empresaPManagedBean.selectedEmpresaP.nombre_c}"  id="contribuyente" />
                            </div>
                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="represent1" value="Actividad Economica" />
                                <p:inputText  value="#{empresaPManagedBean.selectedEmpresaP.actividad}" id="represent1" />
                            </div>
                            <p:outputLabel  value="9. Domicilio"  class="pt-2" style="color: black; font-family: 'Inter', sans-serif; font-weight: 600;" />    
                        </div>

                        <div class="field col-12 md:col-2">                                
                            <p:outputLabel for="departamento" value="Departamento"  style="color: black; font-family: 'Inter', sans-serif; font-weight: 600;" />
                            <p:selectOneMenu id="departamento" value="#{empresaPManagedBean.empresaP.departamento}" style="background:transparent; border: none; border-bottom: 3px solid black; color: black;">
                                <f:selectItem itemLabel="Seleccione un departamento" noSelectionOption="departamentotrue" />
                                <f:selectItems value="#{ubigeo.listaDepartamentos}" var="departamento"
                                               itemValue="#{departamento}" itemLabel="#{departamento}" />
                                <f:ajax listener="#{ubigeo.obtenerListaProvincias(empresaPManagedBean.empresaP.departamento)}" render="provincia distrito" />
                            </p:selectOneMenu>
                        </div>
                        
                        <div class="field col-12 md:col-2">
                            <p:outputLabel for="provincia" value="Provincia"  style="color: black; font-family: 'Inter', sans-serif; font-weight: 600;" />
                            <p:selectOneMenu id="provincia" value="#{empresaPManagedBean.empresaP.provincia}" style="background:transparent; border: none; border-bottom: 3px solid black; color: black;">
                                <f:selectItem itemLabel="Seleccione una provincia" noSelectionOption="true" />
                                <f:selectItems value="#{ubigeo.listaProvincias}" var="provincia"
                                               itemValue="#{provincia}" itemLabel="#{provincia}" />
                                <f:ajax listener="#{ubigeo.obtenerListaDistritos(empresaPManagedBean.empresaP.provincia)}" render="distrito" />
                            </p:selectOneMenu>
                        </div>

                        <div class="field col-12 md:col-2">
                            <p:outputLabel for="distrito" value="Distrito"  style="color: black; font-family: 'Inter', sans-serif; font-weight: 600;" />
                            <p:selectOneMenu id="distrito" value="#{empresaPManagedBean.empresaP.distrito}" style="background:transparent; border: none; border-bottom: 3px solid black; color: black;">
                                <f:selectItem itemLabel="Seleccione un distrito" noSelectionOption="true" />
                                <f:selectItems value="#{ubigeo.listaDistritos}" var="distrito"
                                               itemValue="#{distrito}" itemLabel="#{distrito}" />
                            </p:selectOneMenu>
                        </div>
                        <div class="field col-12 md:col-6">
                                <p:outputLabel for="direccion" value="Direccion" />
                                <p:inputText value="#{empresaPManagedBean.selectedEmpresaP.direccion}" id="direccion" />
                            </div>
                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="dependencia" value="Telefono" />
                                <p:inputText value="#{empresaPManagedBean.selectedEmpresaP.telefono}" id="dependencia" />
                            </div>
                             <div class="field col-12 md:col-6">
                                <p:outputLabel for="condicion" value="Correo" />
                                <p:inputText value="#{empresaPManagedBean.selectedEmpresaP.correo}" id="condicion" />
                            </div>
                               <div class="field col-12 md:col-6">
                                <p:outputLabel for="actividad" value="Número de Licencia" />
                                <p:inputText value="#{empresaPManagedBean.selectedEmpresaP.num_licencia}" id="actividad" />
                            </div>
                        <!-- FECHAS-->
                               <div class="field col-12 md:col-6">
                                <p:outputLabel for="emision" value="Fecha de Fundación" />
                                </div>
                         <div class="field col-12 md:col-6">
                                <p:datePicker value="#{empresaPManagedBean.selectedEmpresaP.fecha_fundacion}" id="emision"/>
                            </div>
                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="actividad1" value="Fecha de Operación" />
                                <p:datePicker value="#{empresaPManagedBean.selectedEmpresaP.fecha_operacion}" id="actividad1"/>
                            </div>
                        <!-- ++++++++++++++++++++++++++++ -->
                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="telf" value="Número de Sucursales" />
                                <p:inputText value="#{empresaPManagedBean.selectedEmpresaP.numero_s}" id="telf" />
                            </div>
                      
                            <!--BOTON-->
                             <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-3">
                                 <p:commandButton class="btn btn-danger" action="#{empresaPManagedBean.agregarRegistroEmpresaP}" update="@form" value="Registrar empresa tercero"/>
                             </div>
                            <!--TABLA-->     
                            <p:dataTable id="tablaEmpresaP" value="#{empresaPManagedBean.obtenerRegistrosEmpresaP()}" var="emp" rowKey="#{emp.id_empresa_p}" emptyMessage="No se encontraron registros" reflow="true" rows="4" paginator="true">
                            <p:column headerText="ID">
                                <h:outputText value="#{emp.id_empresa_p}" />
                            </p:column>

                            <p:column headerText="Ruc">
                                <h:outputText value="#{emp.ruc}" />
                            </p:column>

                            <p:column headerText="Razon Social">
                                <h:outputText value="#{emp.razon_s}" />
                            </p:column>
                                
                           <p:column headerText="Nombre Comercial">
                               <h:outputText value="#{emp.nombre_c}" />
                            </p:column>
                                
                           <p:column headerText="Actividad Economica">
                               <h:outputText value="#{emp.actividad}" />
                            </p:column>

                            <p:column headerText="Departamento">
                                <h:outputText value="#{emp.departamento}" />
                            </p:column>

                            <p:column headerText="Provincia">
                                <h:outputText value="#{emp.provincia}" />
                            </p:column>

                            <p:column headerText="Distrito">
                                <h:outputText value="#{emp.distrito}" />
                            </p:column>

                            <p:column headerText="Direccion">
                                <h:outputText value="#{emp.direccion}" />
                            </p:column>

                            <p:column headerText="Telefono">
                                <h:outputText value="#{emp.telefono}" />
                            </p:column>

                            <p:column headerText="Correo">
                                <h:outputText value="#{emp.correo}" />
                            </p:column>

                            <p:column headerText="Numero de Licencia">
                                <h:outputText value="#{emp.num_licencia}" />
                            </p:column>

                            <p:column headerText="Fecha de Fundación">
                                <h:outputText value="#{emp.fecha_fundacion}" />
                            </p:column>
                                
                           <p:column headerText="Fecha de Operación">
                               <h:outputText value="#{emp.fecha_operacion}" />
                            </p:column>

                            <p:column headerText="Numero de Sucursales">
                                <h:outputText value="#{emp.numero_s}" />
                            </p:column>
                                      
                               </p:dataTable> 

                        </div>
                    </div>
     
     </h:form>
</ui:define>

</ui:composition>