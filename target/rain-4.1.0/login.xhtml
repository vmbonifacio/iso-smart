<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      template="/WEB-INF/template.xhtml">

    <h:head>
        <style>
            /* -----------------------Estilo para el fondo de la imagen ----------------------*/
            body {
                background-image: url("#{resource['img/FormLogin.png']}");
                background-size: cover;
                background-repeat: no-repeat;
                background-position: center center;
                margin: 0;
                padding: 0;
                height: 100vh; /* Aseguramos que el fondo del body ocupe toda la pantalla */
                font-family: 'Roboto', sans-serif;
            }


            /* --------------------------------CONTENEDOR DE TODO ---------------------------*/
            .container {
                display: flex;
                justify-content: center; /* Centrar horizontalmente */
                align-items: center;
                flex-direction: column; /* Alineamos los elementos en columna */
                height: 100vh; /* Ajustamos la altura al 80% del viewport (pantalla) */
                max-width: 1200px; /* Ajustamos el ancho máximo del container */
                margin: 0 auto; /* Para centrar el container horizontalmente en la pantalla */

            }

            /*---------------------CONTENEDOR DE DIV'S-----------------------------*/

            .login-card {
                width: 200%;
                height: 500px;/* Ajustamos el ancho del login-card al 80% del container */
                max-width: 600px; /* Limitamos el ancho máximo del login-card */
                display: flex; /* Agregamos el display flex para alinear los divs internos */
                justify-content: center; /* Centrar horizontalmente */
                align-items: center; /* Centrar verticalmente */

            }

            /* ---------------------FONDO AMARILLO --------------------------------*/
            .login-card-left {
                background-color: #FFD713;
                flex: 0 0 55%; /* Reducimos el ancho del login-card-left al 30% */
                display: flex;
                justify-content: center; /* Centrar horizontalmente */
                align-items: center; /* Centrar verticalmente */
                height: 800px;
                width: 550px;
                border-top-left-radius: 012px;
                border-bottom-left-radius: 012px;
                box-shadow: 0px 0px 59px -1px rgba(255,255,255,0.82);

            }

            /*-----------------------------FONDO AZUL NOCHE-------------------------------------*/
            .login-card-right {
                flex-grow: 1; /* Permite que el login-card-right ocupe todo el espacio restante */
                padding: 20px;
                background-color: #1E1E2A;
                opacity: 0.8;
                color: white;
                height: 800px;
                width: 90000000px;
                display: flex;
                justify-content: center; /* Centrar horizontalmente los elementos en el eje principal */
                align-items: center;
                border-top-right-radius: 12px;
                border-bottom-right-radius: 12px;
                box-shadow: 0px 0px 59px -1px rgba(255,255,255,0.82);

            }
            .login-card-center{
                border: 3px solid black;
                height: 60%;/*--------------ALTURA----------------*/
                width: 70%;/*------------ANCHO--------------*/
                padding: 15px 30px 15px 30px;
                background-color:black;
                justify-content: center; /* Centrar horizontalmente */
                align-items: center;
                margin: 0 auto;
                border-radius:12px;
                box-shadow: 0px 0px 59px -20px rgba(255,255,255,0.8);
            }
        </style>
    </h:head>

    <h:body>
        <div class="container">
            <div class="login-card">
                <div class="login-card-left">
                    <!-- Contenido del div izquierdo -->
                    <p:graphicImage library="img" name="LOGO ISO SMART.png" alt="Logo" style="width: 50%; height: 20%;"/>
                    <!-- Puedes agregar aquí cualquier otro contenido que desees en la parte izquierda -->
                </div>
                <div class="login-card-right">
                    <!-- Contenido del div derecho -->
                    <div class="login-card-center" >
                        <h5>
                            Bienvenido a ISO SMART
                        </h5>

                        <h2>
                            Ingrese a su cuenta <br></br> ISO SMART
                        </h2>
                        <h:form id="validacion">
                            <div class="form-group">
                                <div class="field col-12 md:col-4">
                                    <p:outputLabel value="USUARIO " class="pt-2" style="color: white; font-family: 'Inter', sans-serif; font-weight: 600;" /> 
                                </div>
                                <div class="field col-12 md:col-6">
                                    <p:inputText id="correo" placeholder="nombre@ejemplo.com" value="#{validacionManagedBean.correo}" style="background:transparent; color: white; border: none; border-bottom: 3px solid #FFD713; margin-top: 10px; margin-bottom: 22px;" required="true"/> 
                                </div>

                                <div class="field col-12 md:col-4 mt-4">
                                    <p:outputLabel value="CONTRASEÑA" class="pt-2" style="color: white; font-family: 'Inter', sans-serif; font-weight: 600; margin-top: 8px;"/> 
                                </div>

                                <div>
                                    <p:inputText id="contraseña" type="password" placeholder="Ingrese su contraseña" value="#{validacionManagedBean.contraseña}" style="background:transparent; color: white; border: none; border-bottom: 3px solid #FFD713; margin-top: 8px;" required="true"/>
                                </div>  
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <p:commandButton id="botonIngresar" value="Ingresar" style="color: black; font-family: 'Inter', sans-serif; font-weight: 600; background-color: #787878; margin-top: 40px; height: 40px; width: 120px; border-color: #000; border-radius: 8px;" action="#{validacionManagedBean.validarInicioSesion}" disabled="false" update="messages" />
                            </div>
                            <p:messages id="messages" showDetail="true" showSummary="false" closable="true" />
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", function () {
                var correoInput = document.getElementById("validacion:correo");
                var contraseñaInput = document.getElementById("validacion:contraseña");
                var botonIngresar = document.getElementById("validacion:botonIngresar");

                correoInput.addEventListener("input", toggleButtonState);
                contraseñaInput.addEventListener("input", toggleButtonState);

                function toggleButtonState() {
                    console.log("toggleButtonState called");
                    if (correoInput.value.trim() !== "") {
                        if (contraseñaInput.value.trim() !== "") {
                            // Ambos campos tienen contenido
                            botonIngresar.disabled = false; // Habilitar el botón
                            botonIngresar.style.backgroundColor = "#FFD713";
                            botonIngresar.style.color = "#000000";
                        } else {
                            // Solo el campo de contraseña está vacío
                            botonIngresar.disabled = true; // Deshabilitar el botón
                            botonIngresar.style.backgroundColor = "#787878";
                            botonIngresar.style.color = "black";
                        }
                    } else {
                        // El campo de correo está vacío
                        botonIngresar.disabled = true; // Deshabilitar el botón
                        botonIngresar.style.backgroundColor = "#787878";
                        botonIngresar.style.color = "black";
                    }
                }
            });
        </script>
    </h:body>
</html>